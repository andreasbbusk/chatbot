<!DOCTYPE html>
<html>

<head>
    <title>Chatbot - EJS</title>
    <link rel="stylesheet" type="text/css" href="/public/styles.css" />
</head>

<body class="py-8 min-h-screen bg-gray-100">
    <div class="p-6 mx-auto max-w-md bg-white rounded-lg shadow-md">
        <h1 class="mb-6 text-2xl font-bold text-center">Chatbot</h1>

        <!-- Chat messages -->
        <div class="overflow-y-auto mb-6 max-h-96">
            <% if (messages.length> 0) { %>
                <% messages.forEach(message=> { %>
                    <div
                        class="mb-3 p-3 rounded-lg <%= message.sender === 'Bruger' ? 'bg-blue-100 ml-4' : 'bg-gray-100 mr-4' %>">
                        <strong>
                            <%= message.sender %>:
                        </strong>
                        <%= message.text %>
                    </div>
                    <% }); %>
                        <% } else { %>
                            <p class="text-center text-gray-500">Ingen beskeder endnu. Start en samtale!</p>
                            <% } %>
        </div>


        <% if (typeof error !=='undefined' && error) { %>
            <div class="p-2 mb-3 text-red-800 bg-red-100 rounded-lg border border-red-400">
                <strong>Fejl:</strong>
                <%= error %>
            </div>
            <% } %>

                <!-- Chat form -->
                <form method="POST" action="/chat" class="space-y-4">
                    <input type="text" name="message" placeholder="Skriv din besked her" required
                        class="px-3 py-2 w-full rounded-lg border border-gray-300" />
                    <button type="submit"
                        class="px-4 py-2 w-full text-white bg-blue-500 rounded-lg transition duration-200 hover:bg-blue-600">Send</button>
                </form>


    </div>
</body>

</html>